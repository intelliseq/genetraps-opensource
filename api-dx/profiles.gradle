subprojects {
    def prodProfiles='prod'
    def devProfiles='dev'
    def testProfiles='test'
    def propertyDrivenProfiles;

    if (project.hasProperty('prod')) {
        propertyDrivenProfiles = prodProfiles
    } else if (project.hasProperty('dev')) {
        propertyDrivenProfiles = devProfiles
    } else {
        propertyDrivenProfiles = testProfiles
    }
    println 'Using profile: "' + propertyDrivenProfiles + '" for ' + project.getName()

    bootRun {
        systemProperties = [
                'spring.profiles.active': propertyDrivenProfiles
        ]
    }
}